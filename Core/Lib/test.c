/*
 * test.c
 *
 *  Created on: Aug 4, 2024
 *      Author: MTC-TTM
 */
#include "test.h"

extern UART_HandleTypeDef huart2;

// Assuming your command is correct and does not need checksum adjustment

	// Play the current track
uint8_t command[]  = { 0x7E, 0xFF, 0x06, 0x0D, 0x00, 0x00, 0x00, 0xFE, 0xEE, 0xEF };
uint8_t command1[] = { 0x7E, 0xFF, 0x06, 0x0E, 0x00, 0x00, 0x00, 0xFE, 0xED, 0xEF };
uint8_t command2[] = { 0x7E, 0xFF, 0x06, 0x01, 0x00, 0x00, 0x00, 0xFE, 0xFA, 0xEF };
uint8_t command3[] = { 0x7E, 0xFF, 0x06, 0x08, 0x00, 0x00, 0x01, 0x7E, 0xF2, 0xEF };


uint8_t command4[] = { 0x7E, 0xFF, 0x06, 0x03, 0x00, 0x00, 0x01, 0xFE, 0xF7, 0xEF };

	// 2nd song with feedback
uint8_t command5[] = { 0x7E, 0xFF, 0x06, 0x03, 0x01, 0x00, 0x02, 0xFE, 0xF5, 0xEF };













uint8_t receive[20];

void sys_test_2 ()
{
	HAL_GPIO_TogglePin(GPIOD, GPIO_PIN_15); //Neu nhan duoc thi dao led
    HAL_UART_Transmit(&huart2, command5, sizeof(command5), 5000);

    // Optional delay for processing
    HAL_Delay(100); // Adjust delay as needed

    // Optionally receive data
    HAL_UART_Receive(&huart2, receive, sizeof(receive), 5000);
}
